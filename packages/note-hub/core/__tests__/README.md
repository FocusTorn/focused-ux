# Testing Structure Overview

This directory contains the standardized testing structure for the Note Hub Core package.

## Directory Structure

### 📁 `__mocks__`

**Purpose**: Shared mocking utilities and helpers used across multiple test files. Not needed for one-off single mocks needed by individual test files.

Contains:

- `globals.ts` - Global mock configurations and utilities
- `helpers.ts` - Reusable mock helper functions
- `mock-scenario-builder.ts` - Builder pattern for creating complex mock scenarios

### 📁 `_reports`

**Purpose**: Test execution reports and coverage data.

Contains:

- `coverage/` - Coverage reports generated by vitest

### 📁 `coverage-tests`

**Purpose**: Tests solely designed to increase the coverage report percentage. These tests focus on covering edge cases and uncovered code paths.

Contains:

- `_readme.md` - Details about coverage-specific tests
- `trial-coverage-test.test-cov.ts` - Example coverage test file

### 📁 `functional-tests`

**Purpose**: Main vitest test suites containing the core functionality tests. Can be broken down into sub-folders if test suites become too large.

Contains:

- Various service and component test files

### 📁 `isolated-tests`

**Purpose**: ADHOC one-off tests that are not run when executing the main test suite. Used for debugging, experimentation, or temporary test scenarios.

Contains:

- `_readme.md` - Details about isolated test usage and guidelines

### 📁 `functional/`

**Purpose**: Integration tests that validate real runtime behavior of services.

Contains:

- Various adapter and service test files

### 📁 `unit/`

**Purpose**: Internal behavior and component isolation tests.

Contains:

- `_readme.md` - Details about unit testing guidelines

## Testing Guidelines

1. **Functional Tests**: Place all main functionality tests in `functional-tests/` or `functional/`
2. **Coverage Tests**: Use `coverage-tests/` for tests that specifically target uncovered code paths
3. **Isolated Tests**: Use `isolated-tests/` for temporary or experimental tests
4. **Unit Tests**: Use `unit/` for detailed internal behavior testing
5. **Shared Mocks**: Use `__mocks__/` for reusable mock utilities
6. **Reports**: Coverage and test reports are automatically generated in `_reports/`

## Running Tests

- **All Tests**: `pnpm exec vitest run`
- **Functional Tests Only**: `pnpm exec vitest run functional-tests`
- **Coverage Tests Only**: `pnpm exec vitest run coverage-tests`
- **With Coverage**: `pnpm exec vitest run --coverage`
